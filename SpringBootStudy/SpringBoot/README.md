# 스프링이란?

- 스프링은 IOC(Inversion Of Control) 컨테이너를 가진다.

## IOC(Inversion Of Control)

- 제어권의 역전
- 메소드나 객체의 호출작업을 개발자가 정하는 것이 아니라, 외부에서 결정되는 것.
- 의존성을 역전시켜 객체 간의 결합도를 줄이고 유연한 코드를 작성할 수 있게 함
  - 가독성 및 코드 중복을 줄이고, 유지 보수를 편하게 함
- 기존 vs 스프링
  - 기존
    - 1. 객체 생성
    - 2. 의존성 객체 생성
      - 클래스 내부에서 생성
    - 3. 의존성 객체 메소드 호출
  - 스프링
    - 1. 객체 생성
    - 2. 의존성 객체 주입
      - 제어권을 스프링에게 위임하여 스프링이 만들어 놓은 객체를 주입
    - 3. 의존성 객체 메소드 호출
- 스프링이 모든 의존성 객체를 스프링이 실행될때 다 만들어 주고 필요한 곳에 주입. Bean들은 '싱글턴 패턴'의 특징을 가짐

## DI(Dependency Injection)

- DI란 스프링이 다른 프레임워크와 차별화되어 제공하는 의존 관계 주입 기능
- 객체를 직접 생성하는 것이 아니라 외부에서 생성한 후 주입 시켜주는 방식
- DI를 통해서 모듈 간의 결합도가 낮아지고 유연성이 높아진다.
- 의존성 주입의 예시
  - 외부에서 생성 된 객체를 setter()를 통해 사용하는 방법
  - A 객체에서 B, C 객체를 사용(의존)할 때, A 객체에서 직접 생성하는 것이 아니라 외부(IOC 컨테이너)에서 생성된 B, C 객체를 조립(주입)시켜 setter 혹은 생성자를 통해 사용하는 방식

## Bean

- 스프링에서는 객체를 Bean이라고 부르며, 프로젝트가 실행될 때 사용자가 Bean으로 관리한느 객체들의 생성과 소멸에 관련된 작업을 자동적으로 수행해주는데 객체가 생성되는 곳을 스프링에서는 Bean 컨테이너라고 부른다.

## 스프링에서의 싱글톤 패턴

### 싱글톤 패턴

- 클래스의 인스턴스가 딱 1개만 생성되는 것을 보장
- 해당되는 인스턴스에 대해서 static을 통해 최초 1번만 메모리를 할당시키며 이후 해당 인스턴스에 대한 호출이 생길 때마다 최초로 생긴 인스턴스를 사용한다.
- Private를 사용해 객체 인스턴스를 2개 이상 생성하지 못하도록 막는다
- 단점
  - 싱글톤 패턴을 사용하는 다른 객체들간의 결합도(의존성)이 높아지기 때문에 좋지 않다.
  - 내부 설계를 변경하거나 초기화하기 어렵다
  - private 생성자를 사용하기 때문에 자식 클래스를 만들기 어렵다
  - 유연하지 않다

### 싱글톤 컨테이너(스프링 컨테이너)

- 스프링 컨테이너는 객체 인스턴스를 싱글톤으로 관리한다
- 스프링 빈이 싱글톤 패턴으로 관리된다
- 객체 인스턴스를 1개만 생성 관리함
- 스프링 빈은 항상 무상태로 설계해야 됨 => 인스턴스를 공유하기 때문에 상태 변화가 일어나면 안됨
